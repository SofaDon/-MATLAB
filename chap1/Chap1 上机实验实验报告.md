# Chap1 上机实验实验报告

##### 董硕华 计63 2016011295



## 1. 用MATLAB编程实现例1.4，绘出图1-2，体会两种误差对结果的不同影响

### 实验结果

![1](D:\Git\-MATLAB\chap1\1_1\1.jpg)

### 实验思路

1. 利用例1.4给的计算公式计算一阶导数的差商近似
2. 总的计算误差εtot = Mh/2+2ε/h，M为sinx二阶导的绝对值的上限，ε为计算一次函数值的误差上界。取M=1，ε=10^-16
3. 截断误差Mh/2，舍入误差2ε/h
4. 利用logspace生成对数间距向量得到160个点，然后利用双对数刻度图绘图



### 实验结论

总的计算误差限位截断误差和舍入误差之和，第一项随h增大而增大，第二项随h增大而减小，选择合适的步长可以让总的计算误差最小。图中可以看出，大致在h=10^-8时，总误差最小



## 3.编程观察无穷级数 ∑(n=1->∞)1/n 的求和计算

### 实验思路

1. 使用单精度浮点数，利用MATLAB的single命令，当 a2 的值与 a1 相等时，即可退出循环得到结果和循环次数。此外，根据定理1.6，当|x2/x1|≤1/2ε时，x1，x2做加减法时对结果无法产生影响。ε为相对误差限，可以得出理论分析的结果
2. 根据第1问得出的循环次数，用到第二问，不使用single即默认为双精度
3. 根据第2问的时间，利用定理1.6进行估算即可



### 实验结果

1. 使用单精度浮点数，n=2097152时结果停止变化，此时求出值为15.4036827，理论分析值为15.4036827
2. 使用双精度浮点数，n=2097152，求和值为15.133306695078193，运行时间0.254s，误差为0.270376004921806
3. 由定理1.6，(1/n) / ln n ≤ 0.5 * 0.11 * 10^-15，得出n≈5e+14，则根据比例求出t≈60558319s，约为1.92年



### 实验结论

由于单精度浮点数的精度比双精度浮点数低，所以当计算次数到达一定程度（10^6级别）时，就无法区别两数大小而停止了。但是双精度浮点数可以计算到10^14数量级，故而更精确

